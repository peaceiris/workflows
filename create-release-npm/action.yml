name: 'Create release for npm'
description: 'Create release for npm'
inputs:
  placeholder:
    description: 'placeholder'
    default: ''
    required: false
runs:
  using: "composite"
  steps: 
    - name: Create release
      run: |
        TAG_NAME="${GITHUB_REF##refs/tags/}"
        echo "See [CHANGELOG.md](https://github.com/${GITHUB_REPOSITORY}/blob/${TAG_NAME}/CHANGELOG.md) for more details." > ./release_notes.md
        RELEASE_NAME="$(jq -r '.name' ./package.json)"
        sed -i "1i${RELEASE_NAME} ${TAG_NAME}\n" ./release_notes.md
        ./bin/hub release create \
          --draft \
          --prerelease \
          --file ./release_notes.md \
          "${TAG_NAME}"
      shell: bash
